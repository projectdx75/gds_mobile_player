<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>GDS Mobile Player</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="module" src="/main.js" defer></script>
  </head>

  <body>
    <header class="glass-header">
      <div class="header-content">
        <h1>GDS <span>MOBILE</span></h1>
        <div class="header-actions">
           <button id="btn-refresh" class="icon-btn"><i data-lucide="rotate-cw"></i></button>
           <div id="status-indicator" class="status-dot"></div>
        </div>
      </div>
    </header>

    <main class="content-container">
      <!-- Library View -->
      <section id="view-library" class="view active">
        <div class="view-header">
          <div class="category-tabs">
            <button class="tab active" data-category="video">Movies</button>
            <button class="tab" data-category="audio">Music</button>
            <button class="tab" data-category="">All</button>
          </div>
        </div>
        <div id="library-grid" class="grid">
          <!-- Skeleton items by default -->
          <div class="card skeleton"></div>
          <div class="card skeleton"></div>
          <div class="card skeleton"></div>
          <div class="card skeleton"></div>
        </div>
      </section>

      <!-- Search View -->
      <section id="view-search" class="view">
        <div class="search-bar-container">
          <div class="search-input-wrapper">
            <i data-lucide="search" class="search-icon"></i>
            <input type="text" id="search-input" placeholder="Search title, cast, folder..." />
          </div>
        </div>
        <div id="search-results" class="grid"></div>
        <div id="search-placeholder" class="placeholder">
          <i data-lucide="clapperboard"></i>
          <p>Search for your favorite content</p>
        </div>
      </section>

      <!-- Settings View -->
      <section id="view-settings" class="view">
        <div class="settings-card glass">
          <h3>Connection Setup</h3>
          <div class="settings-group">
            <label>Server URL</label>
            <input type="url" id="server-url" placeholder="http://192.168.0.10:9099" />
          </div>
          <div class="settings-group">
            <label>API Key</label>
            <input type="password" id="api-key" placeholder="Enter your GDS API Key" />
          </div>
          <div class="settings-actions" style="display: flex; gap: 10px;">
            <button id="btn-test-connection" class="btn btn-secondary">
              <i data-lucide="zap"></i> Test
            </button>
            <button id="save-settings" class="btn btn-primary">
              <i data-lucide="check-circle"></i> Save Settings
            </button>
          </div>
        </div>
        
        <div class="app-info">
          <p>GDS Mobile Player v1.0.0</p>
          <p>Powered by Tauri v2</p>
        </div>
      </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <div class="nav-item active" data-view="library">
        <i data-lucide="home"></i>
        <span>Home</span>
      </div>
      <div class="nav-item" data-view="search">
        <i data-lucide="search"></i>
        <span>Search</span>
      </div>
      <div class="nav-item" data-view="settings">
        <i data-lucide="settings"></i>
        <span>Settings</span>
      </div>
    </nav>

    <!-- Player Overlay -->
    <div id="player-overlay">
      <div id="player-bg"></div>
      <div class="player-header">
        <button id="btn-close-player" class="icon-btn"><i data-lucide="chevron-down"></i></button>
        <span id="player-title">Now Playing</span>
        <button class="icon-btn" style="opacity: 0"><i data-lucide="more-vertical"></i></button>
      </div>
      <div class="video-container">
        <div id="audio-visual">
          <img id="audio-poster" src="" alt="Album Art">
          <div class="audio-info">
             <h2 id="audio-title">Song Title</h2>
             <p id="audio-artist">Artist Name</p>
          </div>
        </div>
        <video id="main-player" controls playsinline></video>
      </div>
    </div>
  </body>
</html>
